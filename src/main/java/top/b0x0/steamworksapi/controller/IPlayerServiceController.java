package top.b0x0.steamworksapi.controller;

import com.alibaba.fastjson.JSONObject;
import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpMethod;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.client.RestTemplate;
import top.b0x0.steamworksapi.common.R;
import top.b0x0.steamworksapi.common.SteamApiEnum;


/**
 * @author ManJiis
 * @since 2021-07-29
 * @since JDK1.8
 */
@RestController
@RequestMapping("IPlayerService")
@Api(tags = "IPlayerService")
public class IPlayerServiceController {
    @Autowired
    RestTemplate restTemplate;

    /**
     * 返回用户的 Steam 等级。
     */
    @GetMapping("GetSteamLevel")
    @ApiOperation("返回用户的 Steam 等级。")
    public R IPlayerService_GetSteamLevel_v1() {
        String url = SteamApiEnum.buildUrl(SteamApiEnum.IPlayerService_GetSteamLevel_V1);
        System.out.println("url = " + url);
        ResponseEntity<String> responseEntity = restTemplate.exchange(url, SteamApiEnum.IPlayerService_GetSteamLevel_V1.getHttpMethod(), null, String.class);
        String body = responseEntity.getBody();
        if (responseEntity.getStatusCode().is2xxSuccessful()) {
            System.out.println("body = " + body);
            JSONObject jsonObject = JSONObject.parseObject(body);
            JSONObject response = (JSONObject) jsonObject.get("response");
            Integer player_level = (Integer) response.get("player_level");
            System.out.println("player_level = " + player_level);
            return R.ok(player_level);
        }
        return R.fail(body);
    }

    /**
     * 返回玩家拥有的游戏列表。
     */
    @GetMapping("GetOwnedGames")
    @ApiOperation("返回玩家拥有的游戏列表")
    public R IPlayerService_GetOwnedGames_V1() {
        String url = SteamApiEnum.buildUrl(SteamApiEnum.IPlayerService_GetOwnedGames_V1);
        url = url + "&include_appinfo=true" + "&include_played_free_games=false&appids_filter=";
        System.out.println("url = " + url);
        ResponseEntity<String> responseEntity = restTemplate.exchange(url, HttpMethod.GET, null, String.class);
        String body = responseEntity.getBody();
        if (responseEntity.getStatusCode().is2xxSuccessful()) {

            System.out.println("body = " + body);
            // {"response":{"game_count":112,"games":[{"appid":6880,"name":"Just Cause","playtime_forever":0,"img_icon_url":"aeaef41cac61d12ef93cf5eddc86859b1f0c73fa","img_logo_url":"60d726f5e078a6da168414cf45b8619973f6d69c","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":3590,"name":"Plants vs. Zombies: Game of the Year","playtime_forever":374,"img_icon_url":"d2a9c24de11210560f579e7fd9303960c5060155","img_logo_url":"85bfe66e921d89b034a3a253fb648f1a930e034a","has_community_visible_stats":true,"playtime_windows_forever":374,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":550,"name":"Left 4 Dead 2","playtime_forever":63,"img_icon_url":"7d5a243f9500d2f8467312822f8af2a2928777ed","img_logo_url":"205863cc21e751a576d6fff851984b3170684142","has_community_visible_stats":true,"playtime_windows_forever":16,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":8190,"name":"Just Cause 2","playtime_forever":0,"img_icon_url":"73582e392a2b9413fe93b011665a5b9cf26ff175","img_logo_url":"26c2c027f835e968d78b212b4cc6438f692b027a","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":620,"name":"Portal 2","playtime_forever":471,"img_icon_url":"2e478fc6874d06ae5baf0d147f6f21203291aa02","img_logo_url":"d2a1119ddc202fab81d9b87048f495cbd6377502","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":8980,"name":"Borderlands GOTY","playtime_forever":1,"img_icon_url":"eb45fb32b7f4e75564a30a52aa3c35a191253ea0","img_logo_url":"88ec298ff1ff0d748df39e084892aed6e919b146","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":729040,"name":"Borderlands GOTY Enhanced","playtime_forever":0,"img_icon_url":"aba56aae141ef1495cef3534163beb1664b417c0","img_logo_url":"192e944a32f052d5369e839a9c7bf6c8799292e2","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":107100,"name":"Bastion","playtime_forever":389,"img_icon_url":"8377b4460f19465c261673f76f2656bdb3288273","img_logo_url":"d113d66ef88069d7d35a74cfaf2e2ee917f61133","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":8650,"name":"RACE 07: Andy Priaulx Crowne Plaza Raceway","playtime_forever":0,"img_icon_url":"","img_logo_url":"","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":230410,"name":"Warframe","playtime_forever":66175,"img_icon_url":"22064646470f4c53388ba87774c7ac10f0a91ffa","img_logo_url":"3785f3576cdef5cf20a8b815bdf867154ccbe7d5","has_community_visible_stats":true,"playtime_windows_forever":871,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":210770,"name":"Sanctum 2","playtime_forever":180,"img_icon_url":"4cdfa1d19be460374a111b718ce3a204f21ea1dc","img_logo_url":"333a8c65480bb85148bb3a185843a8520ae5d90f","has_community_visible_stats":true,"playtime_windows_forever":180,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":3910,"name":"Sid Meier's Civilization III: Complete","playtime_forever":0,"img_icon_url":"9cc953317dabd7b8e39690472872b37104b5e625","img_logo_url":"35361ed1c0f896ef34f0a42563b5d2dfb9e634a5","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":234650,"name":"Shadowrun Returns","playtime_forever":155,"img_icon_url":"13c8e62b9b079fba385a2d959ed4e8ce2c378c8c","img_logo_url":"d2ada23f204adf831dc89be7c6edbbbc38c99ef6","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":35720,"name":"Trine 2","playtime_forever":0,"img_icon_url":"061ecbbd7c70ae1c052377bad136c7759cbb708d","img_logo_url":"7d7c3b93bd85ad1db2a07f6cca01a767069c6407","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":231430,"name":"Company of Heroes 2","playtime_forever":0,"img_icon_url":"5e7e1866fb4f33a17393b0441cd1c750dbd91c5f","img_logo_url":"1be017e709b9b0638e82b399cc97de4667f44a1e","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":247120,"name":"Portal 2 Sixense Perceptual Pack","playtime_forever":0,"img_icon_url":"610bfe3ac6d5d3838d49251594ef5adcc2c81286","img_logo_url":"e1e9abe7020043da9c2458a22565a262071af460","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":271570,"name":"Space Farmers","playtime_forever":108,"img_icon_url":"1d017cf9d8b94f5da2ac83c26613b16d0fa40b2c","img_logo_url":"0085efb88b8bc17082dbfdcf11c7e7913e16d78f","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":222880,"name":"Insurgency","playtime_forever":160,"img_icon_url":"b072fc4239951c1952f4877edde340419438b528","img_logo_url":"b620a8286682299e2a1ff272b04fb09d1b4edd38","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":274920,"name":"FaceRig","playtime_forever":210,"img_icon_url":"c25aa8ad9cb85e7e132c61f8d32fd102954e3954","img_logo_url":"2cbcee5767c0cc33fdd94d9260094b576c6b842e","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":282800,"name":"100% Orange Juice","playtime_forever":212,"img_icon_url":"eefd91546fe05b7ffcf277af4ba682d0d925adb6","img_logo_url":"3eadeca40de79192f5d1e8585ee953cea54a69ee","has_community_visible_stats":true,"playtime_windows_forever":24,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":285050,"name":"Showtime!","playtime_forever":220,"img_icon_url":"b5ff2358af7738f0212038ed0cf145d2a2a6acf6","img_logo_url":"e9d826810f9eb747ea44475c4bfaccd05c54fe08","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":237930,"name":"Transistor","playtime_forever":254,"img_icon_url":"b45dc369d45afe945d379e75545959f845094f92","img_logo_url":"705c88fb22dc45a6e886f5afd96ba3c2e258aa06","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":301520,"name":"Robocraft","playtime_forever":1,"img_icon_url":"25b4f8bc206a7768638974d991b12d3943729d49","img_logo_url":"6bcd914a790af2f2eeb91ea5d23482c15c68fb0a","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":310560,"name":"DiRT Rally","playtime_forever":380,"img_icon_url":"6af1249ba4f9c521ce981ee040ffa3b9ca603911","img_logo_url":"ac1200d420a187ec457597d7b954bac14693f573","has_community_visible_stats":true,"playtime_windows_forever":380,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":321150,"name":"Melissa K. and the Heart of Gold Collector's Edition","playtime_forever":65,"img_icon_url":"4b0df8608d135c5fd938b6e6ac4c7ebe901cb4a2","img_logo_url":"8b132fc016145b49e3285ed8924298f35857a817","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":327690,"name":"Gigantic","playtime_forever":1151,"img_icon_url":"992a647ce69a8a3548f55cd4a746408abfdac7f6","img_logo_url":"542065e14fc78f7afa3996d74635813801d67eb0","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":274940,"name":"Depth","playtime_forever":349,"img_icon_url":"0c711a26af920e93af7cf0fc797fbb200367105e","img_logo_url":"ed52c54d3d6ef23b3cfe0a6072528f1f7f546128","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":730,"name":"Counter-Strike: Global Offensive","playtime_forever":4062,"img_icon_url":"69f7ebe2735c366c65c0b33dae00e12dc40edbe4","img_logo_url":"d0595ff02f5c79fd19b06f4d6165c3fda2372820","has_community_visible_stats":true,"playtime_windows_forever":29,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":333930,"name":"Dirty Bomb","playtime_forever":36,"img_icon_url":"48a3c464019fc161c2ea17334ca8d545a846a98e","img_logo_url":"b0a7716d2f51f08e4dd173fa8dc38eebe4e357d5","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":351920,"name":"Crazy Machines 3","playtime_forever":359,"img_icon_url":"6cf6da3763360bbc86b1b55b10ddbb7e8f363d81","img_logo_url":"e732663b90ea52f0ca11e498163833ede860ca39","has_community_visible_stats":true,"playtime_windows_forever":206,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":255710,"name":"Cities: Skylines","playtime_forever":309,"img_icon_url":"6cf7b10dd29db28448ef79698ed2118a03617d63","img_logo_url":"1b90f32be112870a4fa22c819a358d047b38d97f","has_community_visible_stats":true,"playtime_windows_forever":287,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":232090,"name":"Killing Floor 2","playtime_2weeks":366,"playtime_forever":16792,"img_icon_url":"15837cefb378766e9916548f8591b6eb490b9e52","img_logo_url":"97d6a09bcca126ebaf1488b0faed79c6772716cb","has_community_visible_stats":true,"playtime_windows_forever":16772,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":232150,"name":"Killing Floor 2 - SDK","playtime_forever":0,"img_icon_url":"2f0e11b75760cd65922d4c0e06cf41735fe3ff89","img_logo_url":"b341754b0ca9192271226eb60c4e2a70b5b66ebe","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":319910,"name":"Trine 3: The Artifacts of Power","playtime_forever":184,"img_icon_url":"15853f24d7576a83cd4d54532a2a93c2d8d6024d","img_logo_url":"0add332eadf0fff659f29f665048691cdeafd3f4","has_community_visible_stats":true,"playtime_windows_forever":184,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":365670,"name":"Blender","playtime_forever":0,"img_icon_url":"48733cd333eea6e40711a1b9c6dde32ffe363ced","img_logo_url":"5c4f9e482338e1ac7de6eb063d1a7dcf6df1e312","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":367700,"name":"SHOFER Race Driver","playtime_forever":0,"img_icon_url":"020be9cf1f66a864befee946176c7b9f3ac15845","img_logo_url":"fa168e72ac757a8a97012f322592484486556068","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":368370,"name":"Her Story","playtime_forever":104,"img_icon_url":"116b0c3f9693b9e3f235d22d4269a64c80b763d4","img_logo_url":"a05fc37b598a1ae5176b2a95a4819bfa0b93c4e5","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":374320,"name":"DARK SOULS™ III","playtime_forever":39,"img_icon_url":"7abe1a33129c20cf10d2c74128bbd657a2a2c806","img_logo_url":"54f76fd3abdd1446260f28ccc0cbc76034b32de9","has_community_visible_stats":true,"playtime_windows_forever":39,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":400040,"name":"ShareX","playtime_forever":2640,"img_icon_url":"66e87f26755185d9a977b9776652326076ef67a1","img_logo_url":"091a990115a8b56da4930edd5e6e8cc9e252fc28","playtime_windows_forever":126,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":365450,"name":"Hacknet","playtime_forever":203,"img_icon_url":"2445c4ead6ee47784a326922271ec1c0b41d64e2","img_logo_url":"50479f0bfe5a552132a0fc2668640b2e6a737398","has_community_visible_stats":true,"playtime_windows_forever":200,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":410390,"name":"Warhammer: Vermintide VR - Hero Trials","playtime_forever":0,"img_icon_url":"3cafd917b91d728da170dc1f80e5ef53f83a2b62","img_logo_url":"88cf3f63eb0afa7f4c824361ca47fe416204710a","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":413150,"name":"Stardew Valley","playtime_forever":160,"img_icon_url":"35d1377200084a4034238c05b0c8930451e2fb40","img_logo_url":"694de1f9cf09aba9d6d118bcff07714343529a0a","has_community_visible_stats":true,"playtime_windows_forever":160,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":225540,"name":"Just Cause 3","playtime_forever":0,"img_icon_url":"c82c69c8d616d9d273d749e3dd3bd7a0f9da594a","img_logo_url":"afdb9bd71ccd65d3fcfc4735076d50cead701036","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":418240,"name":"Shadow Tactics: Blades of the Shogun","playtime_forever":0,"img_icon_url":"7f933b7e1bcb83caf3bbcc9a143aee85b8a677af","img_logo_url":"9ca95758bb56d4ab81fb976f30950ad0a3e957e1","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":431960,"name":"Wallpaper Engine","playtime_forever":39434,"img_icon_url":"e9dd5b58abec11692416bb2d036d3a4e523595c6","img_logo_url":"74bcecbde31f489e396f656910c2f70872dcb0f3","has_community_visible_stats":true,"playtime_windows_forever":25784,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":433850,"name":"Z1 Battle Royale","playtime_forever":126,"img_icon_url":"aee7491abfd812e2fbb4ec3326ad5f4b85c8137a","img_logo_url":"b83cffe1839f3ecaec18754844b21bda9b397659","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":439700,"name":"H1Z1: Test Server","playtime_forever":0,"img_icon_url":"d0e924622be8ce1e9920197f397365bb1e6bca5f","img_logo_url":"f77deaee709ef0b7b59f00c67e019804bb5138c7","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":434650,"name":"Lost Castle","playtime_forever":264,"img_icon_url":"8462ea7ace0444710f30a8681714b57a4a7643d6","img_logo_url":"01ec38bd5b3c45b73d60870383c166b8ea3bb601","has_community_visible_stats":true,"playtime_windows_forever":264,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":275850,"name":"No Man's Sky","playtime_forever":203,"img_icon_url":"fccb20f309ac5ae05b3cb4576a8a3357edf86f2e","img_logo_url":"cba0b86aa959a8c63eeda8f5f6d19ef986262b67","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":471710,"name":"Rec Room","playtime_forever":0,"img_icon_url":"8b4f9c24ad1df00f0db62ee79b6198a0bb96d044","img_logo_url":"f557637186688996be65d2a6393b998c117b9447","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":477160,"name":"Human: Fall Flat","playtime_forever":153,"img_icon_url":"15c6f6a4d69633a63ee410b24a2417f16d803b06","img_logo_url":"1b789dec39cb456fc443dd7a48f109bb4f6be1ea","has_community_visible_stats":true,"playtime_windows_forever":2,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":327030,"name":"Worms W.M.D","playtime_forever":57,"img_icon_url":"9f18090e88fd50a0a85a66a1a9872bd36c856b58","img_logo_url":"ac71a2058509b7b4f386961492d8c63f4da9ce0a","has_community_visible_stats":true,"playtime_windows_forever":57,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":369070,"name":"Slain: Back from Hell","playtime_forever":277,"img_icon_url":"8f827b8168ef8edbe198b97bd8c54f68c32b2425","img_logo_url":"1bdb486950b8b3b64a839d9a489d5ca28345ad31","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":402570,"name":"Atlas Reactor","playtime_forever":56,"img_icon_url":"65ab56f205b0d84ec35ec8527fe1aa3e6549257e","img_logo_url":"9e04a2a8f9c793cbcc8ea0e422fe0be6ee2a7136","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":518790,"name":"theHunter: Call of the Wild™","playtime_forever":39,"img_icon_url":"8cd121cb62c8f98019ed333716657449c8da2b81","img_logo_url":"4d2f8eac2a8329da9f4373fdd0e05a5670a38dfb","has_community_visible_stats":true,"playtime_windows_forever":39,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":292030,"name":"The Witcher 3: Wild Hunt","playtime_forever":16,"img_icon_url":"87118494c65a92e1ac4c9734ce91950c1d6fe9a5","img_logo_url":"2f22c2e5528b78662988dfcb0fc9aad372f01686","has_community_visible_stats":true,"playtime_windows_forever":16,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":533300,"name":"Zup!","playtime_forever":308,"img_icon_url":"0d27b0e8358fb1de01df4be4f957548b196c7bba","img_logo_url":"71e7c63d3ea3822a2217b7450d66812b1a8cbea4","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":544330,"name":"Snake Pass","playtime_forever":136,"img_icon_url":"a4a42fb745404840580ee3c92e03b1686aa32ac4","img_logo_url":"4c6d2bb3db8c5a1da2e3c285aa54f860f96c3589","has_community_visible_stats":true,"playtime_windows_forever":136,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":551110,"name":"WayOut","playtime_forever":223,"img_icon_url":"bb0ad694b15682ccc19cc6c071de283398f4ad3c","img_logo_url":"3b4c6db56de25084c9b482353a5d66935ec4d567","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":493340,"name":"Planet Coaster","playtime_forever":294,"img_icon_url":"1b2f29e743dd3048f21fefd9642d86a5f5123968","img_logo_url":"9df37efd0c484de309e8bde39809dfb0a9704c21","has_community_visible_stats":true,"playtime_windows_forever":285,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":578080,"name":"PLAYERUNKNOWN'S BATTLEGROUNDS","playtime_forever":21440,"img_icon_url":"609f27278aa70697c13bf99f32c5a0248c381f9d","img_logo_url":"f1e2c790bc051b833b7998896bf879b2a543fbe9","has_community_visible_stats":true,"playtime_windows_forever":2490,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":578440,"name":"冒险村传说（Tales of Legends）","playtime_forever":241,"img_icon_url":"fbe7ac0f42607d5ee05380bac4674dcf15fa1a8d","img_logo_url":"d7dd3a6e9186b1e48424ad0f49fdae2560b73a2e","playtime_windows_forever":241,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":582660,"name":"Black Desert","playtime_forever":803,"img_icon_url":"cc5f90c568bd698304bdb185c75517c7e24d44f7","img_logo_url":"a9848e246e8b9fcf5aaa01aa0e2296884081c2e8","playtime_windows_forever":803,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":584220,"name":"RunningDead","playtime_forever":181,"img_icon_url":"94ed01275d14e6004d11d25da1bfc4227341ee81","img_logo_url":"735b923a364cf2e838fde41126fe72386563897f","has_community_visible_stats":true,"playtime_windows_forever":181,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":588430,"name":"Fallout Shelter","playtime_forever":1,"img_icon_url":"bb39b682fefd9a95486911cd991d8cdc5d7b57c9","img_logo_url":"bdae0ecd14415771800d7be3f95aa29c7ec7cbc2","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":588650,"name":"Dead Cells","playtime_forever":888,"img_icon_url":"a431361e5dae5fd6ac2433064b62b2a37abc38f1","img_logo_url":"939ddb43222217ab820dcea4437526c0487d557c","has_community_visible_stats":true,"playtime_windows_forever":888,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":591560,"name":"Red Death","playtime_forever":102,"img_icon_url":"2de8205dd278a8400f556405cf0cfd67b353768a","img_logo_url":"dcdc169a4f7d89cd634f9729a271e52aba0fb160","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":606280,"name":"Darksiders III","playtime_forever":42,"img_icon_url":"1f2b21f809d9a409460f23d12061c1b18f6d5a74","img_logo_url":"7a6599c480aeb05d7ea154131f66f27abb027922","has_community_visible_stats":true,"playtime_windows_forever":42,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":607380,"name":"Fences","playtime_forever":3,"img_icon_url":"a41c506ab97001b8c40666f36f4b229bd7611bd0","img_logo_url":"acb399930be1dcfb4bd3cf023dafda575382a07b","playtime_windows_forever":1,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":615610,"name":"Orbt XL","playtime_forever":114,"img_icon_url":"66d9955f28fa6fb166a0c76cc05cb9e2ea36495a","img_logo_url":"345adea10c97a8419845c1a3b7d146848f39a90d","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":618140,"name":"Barro","playtime_forever":0,"img_icon_url":"d096b0cbb1a0121d28d6224f4ae32816cd53eb29","img_logo_url":"b2d3c4dd6d62cfe474d5021768fe07a6924d85c4","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":644560,"name":"Mirror","playtime_forever":33,"img_icon_url":"557469e128dcd3574436cd970501b59d02661356","img_logo_url":"c1ec3942acfe2f20384191ed64e7700366273220","has_community_visible_stats":true,"playtime_windows_forever":33,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":218620,"name":"PAYDAY 2","playtime_forever":306,"img_icon_url":"a6abc0d0c1e79c0b5b0f5c8ab81ce9076a542414","img_logo_url":"4467a70648f49a6b309b41b81b4531f9a20ed99d","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":666140,"name":"My Time At Portia","playtime_forever":737,"img_icon_url":"06668be3a8b596a5980adf1b61b0c0dd515b5acd","img_logo_url":"de848befba4a64c96057679403e0c07f2410a9ce","has_community_visible_stats":true,"playtime_windows_forever":737,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":668630,"name":"Tricolour Lovestory","playtime_forever":2058,"img_icon_url":"4821569fdcde5100761669d70050480d1509db48","img_logo_url":"80c8ea2312bd29e6c86f4724001cb8cc1dd031a5","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":698780,"name":"Doki Doki Literature Club","playtime_forever":0,"img_icon_url":"2bf8ed528d8f251428435a6f6ffc8e4e8e4b294c","img_logo_url":"76c3e09407e445568c9bb32d77bf364168ea45ed","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":700330,"name":"SCP: Secret Laboratory","playtime_forever":0,"img_icon_url":"764d1a9134808f7deb0b7f8de042590ec8aa8c5d","img_logo_url":"a958d5fa8695a07758a901947fac20a53226fb5e","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":251950,"name":"World War II Online","playtime_forever":0,"img_icon_url":"ba388f11c3ce3560bbd99df5b47ccf600777ac3a","img_logo_url":"9ce1304c3836775ab6bd4b455800b90d8a2e8181","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":308040,"name":"Back to Bed","playtime_forever":359,"img_icon_url":"030732feca4ee5746b201e4e8e06c003f4df7850","img_logo_url":"92db8bb5a5f230d7dad9e8624221beba3797edb1","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":629520,"name":"Soundpad","playtime_forever":1296,"img_icon_url":"f261c8f5948de73428a1dbed573ec964fcbecb67","img_logo_url":"05c34b3e59d5dce5abb29b2650c31c6a3e2a4f25","playtime_windows_forever":1296,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":38400,"name":"Fallout","playtime_forever":0,"img_icon_url":"df0001a1aa011e6c7a8f38a65908070eba3d2f61","img_logo_url":"ab93e9e42e069b83926c8554de635142455aa271","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":427460,"name":"Battlerite Public Test","playtime_forever":0,"img_icon_url":"","img_logo_url":"","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":504370,"name":"Battlerite","playtime_forever":54,"img_icon_url":"943ec9894774f40c9863d0305c456a3c3b2f7c13","img_logo_url":"b26284c0978ab2b6b6334cdf06a7b51602ba009c","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":758670,"name":"Tower Accelerator","playtime_forever":33711,"img_icon_url":"850963d80098669a3c88c3af505f9705132e8765","img_logo_url":"95258d2cf78f1315a4e5c63c2c498b0cfb426eb0","playtime_windows_forever":18815,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":766570,"name":"Russian Fishing 4","playtime_forever":45,"img_icon_url":"3b374139de62caed7c8f2df0a57f671b7fa7dffb","img_logo_url":"0f79d346dac5167ff20a305e30789287e9ec60c1","has_community_visible_stats":true,"playtime_windows_forever":45,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":774171,"name":"Muse Dash","playtime_forever":135,"img_icon_url":"e0f4a24aa5b44887dc3467ee3e9ceabf46082041","img_logo_url":"c27a2910578c7b6ca7ca638510dc88472b72a26d","has_community_visible_stats":true,"playtime_windows_forever":135,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":49520,"name":"Borderlands 2","playtime_forever":193,"img_icon_url":"a3f4945226e69b6196074df4c776e342d3e5a3be","img_logo_url":"86b0fa5ddb41b4dfff7df194a017f3418130d668","has_community_visible_stats":true,"playtime_windows_forever":193,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":815370,"name":"Green Hell","playtime_forever":716,"img_icon_url":"d118d766ef0107189e71b1410bebe13831b70d7b","img_logo_url":"44eb291160a32099bb51a22847ffd18a009df0eb","has_community_visible_stats":true,"playtime_windows_forever":716,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":552500,"name":"Warhammer: Vermintide 2","playtime_forever":0,"img_icon_url":"a671f2ddf7359beba9702ac097baf6d50cb07202","img_logo_url":"f11bbba8fb45091dc8ccc97e81b03ea8ea06b177","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":737010,"name":"Warhammer: Vermintide 2 Closed Test","playtime_forever":0,"img_icon_url":"a02bbe266096460058982ecddf57ecb7df92d842","img_logo_url":"","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":840260,"name":"Endless World Idle RPG","playtime_forever":16703,"img_icon_url":"f47596d9735f84a49399fe33d7e656bc9ece914f","img_logo_url":"5b613dc8e9a576dad2e7386e28f24bf3cb2102ef","has_community_visible_stats":true,"playtime_windows_forever":16703,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":844870,"name":"KurtzPel","playtime_forever":77,"img_icon_url":"2947d156a2633c9a5c092d2a14890bc56a342b70","img_logo_url":"88e458eb7dd478410fca430f7ed612e3cc93faec","has_community_visible_stats":true,"playtime_windows_forever":77,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":286570,"name":"F1 2015","playtime_forever":420,"img_icon_url":"efba76526ca5cd18fabc9878c840ac583f08ead5","img_logo_url":"7f31abdf6d6a1ce630cb96f3ac34a8a6be6243c8","has_community_visible_stats":true,"playtime_windows_forever":420,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":391720,"name":"Layers of Fear","playtime_forever":272,"img_icon_url":"0fc90b925c7bbdcc95df6599a01b80dff18e6bbb","img_logo_url":"64c61e0166b1bb2a80c57f76f2ca620f2ba49536","has_community_visible_stats":true,"playtime_windows_forever":272,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":960090,"name":"Bloons TD 6","playtime_forever":1584,"img_icon_url":"c5f0b67c8beeb6be99abe2ad8db2cada5d5ccff0","img_logo_url":"3ad1bba6ac2f77e4d84cae768b66b13371bfb3bc","has_community_visible_stats":true,"playtime_windows_forever":1584,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":223850,"name":"3DMark","playtime_forever":321,"img_icon_url":"ea1a6e0c0d7451cf5a39210a4de30f7edfc214ca","img_logo_url":"b3685601ae7686e9074eaf07893c89a8d77be6e0","has_community_visible_stats":true,"playtime_windows_forever":321,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":992300,"name":"嗜血印 Bloody Spell","playtime_forever":270,"img_icon_url":"9a4e752391bf898399a88889580ab50f2ca53e19","img_logo_url":"9cd724b98cb724a3edc32cfef4a71a28a456ea92","has_community_visible_stats":true,"playtime_windows_forever":270,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":994280,"name":"古剑奇谭三(Gujian3)","playtime_forever":135,"img_icon_url":"df578400e899bfd1605c01ce5ff6894c5d986ffb","img_logo_url":"0b0d6cfebe44b08115d678e3c870d1ee3bc8142b","has_community_visible_stats":true,"playtime_windows_forever":135,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":1013320,"name":"Firestone Idle RPG","playtime_forever":694,"img_icon_url":"8ef3951669ba64eec51bba8ec97b01a906f772b0","img_logo_url":"7df773b419a6a870a93a83c452a03d42fb047368","has_community_visible_stats":true,"playtime_windows_forever":694,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":1096550,"name":"Desktop Magic Engine","playtime_forever":1290,"img_icon_url":"16c2faf06b1da2ec599a85aeb6dd5a556b01fb02","img_logo_url":"fec58b61458460abd2c9bd21a03c437334bcdf2e","playtime_windows_forever":1290,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":1089350,"name":"NBA 2K20","playtime_forever":0,"img_icon_url":"cf770a436cd5f8ba8906274b806efed0d819dd52","img_logo_url":"0190ce0328e35ec1b22dca18c7be3d98745863b5","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":1085660,"name":"Destiny 2","playtime_forever":114,"img_icon_url":"fce050d63f0a2f8eb51b603c7f30bfca2a301549","img_logo_url":"344e00effc8a9c449a5e9a7043a37d728184a491","has_community_visible_stats":true,"playtime_windows_forever":114,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":582010,"name":"Monster Hunter: World","playtime_forever":17862,"img_icon_url":"6ec147f2d423f435e15eb79b3d82f771913de634","img_logo_url":"8ef10e37b602f50adce31f06d90396e76dbdbd74","has_community_visible_stats":true,"playtime_windows_forever":17862,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":1217060,"name":"Gunfire Reborn","playtime_forever":2336,"img_icon_url":"446d10e4c62466203a4c60e3416d4307048710b8","img_logo_url":"a5f120a81017aad06abc75d9356f4a952aadc88c","has_community_visible_stats":true,"playtime_windows_forever":2336,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":397540,"name":"Borderlands 3","playtime_forever":3425,"img_icon_url":"de28bd508174ea49c8a232351f8cfef69c6d1639","img_logo_url":"9df40925a5b46aa43d5438d6277dae1daf65f36e","has_community_visible_stats":true,"playtime_windows_forever":3425,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":1279610,"name":"PrprLive","playtime_forever":1,"img_icon_url":"0d79ac5d7f3a506a5a203bd664334b097baf60f6","img_logo_url":"22504ca282640288d627b38c7431ea8c6fe7444a","playtime_windows_forever":1,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":435790,"name":"10 Second Ninja X","playtime_forever":22,"img_icon_url":"23b4f652d3c3c2716ba1d44181bfd1f39c556c69","img_logo_url":"f01d0ac801840f0c88211130f00bc3893a49cd22","has_community_visible_stats":true,"playtime_windows_forever":22,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":640590,"name":"The LEGO® NINJAGO® Movie Video Game","playtime_forever":0,"img_icon_url":"e73b26c11ea3dd22910565c0621a3f511ea943d3","img_logo_url":"c52aacb20fbd36d9f44d6c808bce6ed795854e46","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":242700,"name":"Injustice: Gods Among Us Ultimate Edition","playtime_forever":0,"img_icon_url":"4ea9f28360ca77b2ced5c8ac5545fcfc6ea8ef15","img_logo_url":"405bc57977d5e6fb112765e63fffcb110dbcd751","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":325180,"name":"AppGameKit Classic","playtime_forever":0,"img_icon_url":"56b06e662e5ffa0f3c1a8248ea0a15bdd4760498","img_logo_url":"1be8a9db8c92076ed8db09a153762b12240c829d","playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":1468810,"name":"鬼谷八荒","playtime_forever":793,"img_icon_url":"51a531645724df6f419ce89c1d8c34b2b2355428","img_logo_url":"4a4bc06209d7ebaab3ad684ece2c0b55aa3ebda9","has_community_visible_stats":true,"playtime_windows_forever":793,"playtime_mac_forever":0,"playtime_linux_forever":0},{"appid":424840,"name":"Little Nightmares","playtime_forever":0,"img_icon_url":"1904c041f963b5e2cb22b56c370444517cc4e288","img_logo_url":"2681ea83b77b831431b95ad69a8ad6036d1ab981","has_community_visible_stats":true,"playtime_windows_forever":0,"playtime_mac_forever":0,"playtime_linux_forever":0}]}}
            return R.ok(body);
        }
        return R.fail(body);
    }

    /**
     * 获得指定用户所拥有的徽章。。
     */
    @GetMapping("GetBadges")
    @ApiOperation("获得指定用户所拥有的徽章")
    public R IPlayerService_GetBadges_V1() {
        String url = SteamApiEnum.buildUrl(SteamApiEnum.IPlayerService_GetBadges_V1);
        System.out.println("url = " + url);
        ResponseEntity<String> responseEntity = restTemplate.exchange(url, HttpMethod.GET, null, String.class);
        String body = responseEntity.getBody();
        if (responseEntity.getStatusCode().is2xxSuccessful()) {
            System.out.println("body = " + body);
            // {"response":{"badges":[{"badgeid":13,"level":92,"completion_time":1622255237,"xp":313,"scarcity":10704166},{"badgeid":50,"level":3,"completion_time":1606569769,"xp":75,"scarcity":2204922},{"badgeid":31,"level":4,"completion_time":1542968665,"xp":100,"scarcity":1388632},{"badgeid":28,"level":1,"completion_time":1527334964,"xp":100,"scarcity":3820359},{"badgeid":27,"level":4,"completion_time":1511419205,"xp":100,"scarcity":1275359},{"badgeid":21,"level":1,"completion_time":1508507866,"xp":100,"scarcity":28057346},{"badgeid":2,"level":3,"completion_time":1506231272,"xp":500,"scarcity":7497966},{"badgeid":1,"level":4,"completion_time":1474110101,"xp":200,"scarcity":139620343},{"badgeid":1,"appid":730,"level":1,"completion_time":1506093804,"xp":100,"communityitemid":"5981699459","border_color":0,"scarcity":8813399},{"badgeid":1,"appid":431960,"level":1,"completion_time":1506095309,"xp":100,"communityitemid":"5981884160","border_color":0,"scarcity":670281},{"badgeid":1,"appid":346210,"level":4,"completion_time":1509423299,"xp":400,"communityitemid":"6286322116","border_color":0,"scarcity":15171},{"badgeid":1,"appid":515470,"level":5,"completion_time":1509423429,"xp":500,"communityitemid":"6286331722","border_color":0,"scarcity":31469},{"badgeid":1,"appid":423710,"level":5,"completion_time":1509423525,"xp":500,"communityitemid":"6286340177","border_color":0,"scarcity":45994},{"badgeid":1,"appid":589430,"level":5,"completion_time":1509423631,"xp":500,"communityitemid":"6286340286","border_color":0,"scarcity":4880},{"badgeid":1,"appid":463100,"level":5,"completion_time":1509424895,"xp":500,"communityitemid":"6286417826","border_color":0,"scarcity":24239},{"badgeid":1,"appid":412600,"level":5,"completion_time":1509424969,"xp":500,"communityitemid":"6286441884","border_color":0,"scarcity":48283},{"badgeid":1,"appid":485570,"level":5,"completion_time":1509425035,"xp":500,"communityitemid":"6286441975","border_color":0,"scarcity":15269},{"badgeid":1,"appid":477980,"level":5,"completion_time":1509425191,"xp":500,"communityitemid":"6286455651","border_color":0,"scarcity":37647},{"badgeid":1,"appid":539460,"level":5,"completion_time":1509425346,"xp":500,"communityitemid":"6286455772","border_color":0,"scarcity":14371},{"badgeid":1,"appid":600210,"level":5,"completion_time":1509425451,"xp":500,"communityitemid":"6286471272","border_color":0,"scarcity":13660},{"badgeid":1,"appid":629280,"level":5,"completion_time":1509425535,"xp":500,"communityitemid":"6286482483","border_color":0,"scarcity":28126},{"badgeid":1,"appid":435140,"level":5,"completion_time":1509425600,"xp":500,"communityitemid":"6286482595","border_color":0,"scarcity":14334},{"badgeid":1,"appid":497050,"level":5,"completion_time":1509425666,"xp":500,"communityitemid":"6286494755","border_color":0,"scarcity":29375},{"badgeid":1,"appid":485330,"level":5,"completion_time":1509425743,"xp":500,"communityitemid":"6286494868","border_color":0,"scarcity":34576},{"badgeid":1,"appid":451350,"level":1,"completion_time":1509425762,"xp":100,"communityitemid":"6286504239","border_color":0,"scarcity":20034},{"badgeid":1,"appid":762800,"level":3,"completion_time":1515114354,"xp":300,"communityitemid":"6773681411","border_color":0,"scarcity":438466},{"badgeid":1,"appid":513540,"level":1,"completion_time":1592615629,"xp":100,"communityitemid":"13842222540","border_color":0,"scarcity":19758},{"badgeid":1,"appid":385070,"level":5,"completion_time":1592622496,"xp":500,"communityitemid":"13842905595","border_color":0,"scarcity":45878},{"badgeid":1,"appid":329000,"level":5,"completion_time":1592622497,"xp":500,"communityitemid":"13842905612","border_color":0,"scarcity":41480},{"badgeid":1,"appid":514970,"level":5,"completion_time":1592622497,"xp":500,"communityitemid":"13842905632","border_color":0,"scarcity":31487},{"badgeid":1,"appid":512640,"level":5,"completion_time":1592622498,"xp":500,"communityitemid":"13842905650","border_color":0,"scarcity":33193},{"badgeid":1,"appid":540020,"level":5,"completion_time":1592622498,"xp":500,"communityitemid":"13842905666","border_color":0,"scarcity":31460},{"badgeid":1,"appid":586620,"level":5,"completion_time":1592622499,"xp":500,"communityitemid":"13842913432","border_color":0,"scarcity":21852},{"badgeid":1,"appid":509110,"level":5,"completion_time":1592622499,"xp":500,"communityitemid":"13842913448","border_color":0,"scarcity":30398},{"badgeid":1,"appid":383330,"level":5,"completion_time":1592622500,"xp":500,"communityitemid":"13842913464","border_color":0,"scarcity":38613},{"badgeid":1,"appid":499420,"level":5,"completion_time":1592622500,"xp":500,"communityitemid":"13842913480","border_color":0,"scarcity":28985},{"badgeid":1,"appid":546990,"level":5,"completion_time":1592622501,"xp":500,"communityitemid":"13842913498","border_color":0,"scarcity":28667},{"badgeid":1,"appid":418070,"level":4,"completion_time":1592622501,"xp":400,"communityitemid":"13842913516","border_color":0,"scarcity":40247},{"badgeid":1,"appid":528510,"level":5,"completion_time":1592622502,"xp":500,"communityitemid":"13842913529","border_color":0,"scarcity":36411},{"badgeid":1,"appid":1343890,"level":5,"completion_time":1593443508,"xp":500,"communityitemid":"13914455664","border_color":0,"scarcity":98264}],"player_xp":15488,"player_level":51,"player_xp_needed_to_level_up":712,"player_xp_needed_current_level":15600}}
            return R.ok(body);
        }
        return R.fail(body);
    }

    /**
     * 获取玩家最近运行的游戏的信息
     */
    @GetMapping("GetRecentlyPlayedGames")
    @ApiOperation("获取玩家最近运行的游戏的信息")
    public R IPlayerService_GetRecentlyPlayedGames_V1() {
        String url = SteamApiEnum.buildUrl(SteamApiEnum.IPlayerService_GetRecentlyPlayedGames_V1);
        url = url + "&count=";
        System.out.println("url = " + url);
        ResponseEntity<String> responseEntity = restTemplate.exchange(url, HttpMethod.GET, null, String.class);
        String body = responseEntity.getBody();
        if (responseEntity.getStatusCode().is2xxSuccessful()) {

            System.out.println("body = " + body);
            // {"response":{"total_count":1,"games":[{"appid":232090,"name":"Killing Floor 2","playtime_2weeks":366,"playtime_forever":16792,"img_icon_url":"15837cefb378766e9916548f8591b6eb490b9e52","img_logo_url":"97d6a09bcca126ebaf1488b0faed79c6772716cb","playtime_windows_forever":16772,"playtime_mac_forever":0,"playtime_linux_forever":0}]}}
            return R.ok(body);
        }
        return R.fail(body);
    }

    /**
     * 获取所有产品的使用时间
     */
    @GetMapping("ClientGetLastPlayedTimes")
    @ApiOperation("获取所有产品的使用时间")
    public R IPlayerService_ClientGetLastPlayedTimes_V1() {
        String url = SteamApiEnum.buildUrl(SteamApiEnum.IPlayerService_ClientGetLastPlayedTimes_V1);
        url = url + "&include_appinfo=true" + "&include_played_free_games=false&appids_filter=";
        System.out.println("url = " + url);
        ResponseEntity<String> responseEntity = restTemplate.exchange(url, HttpMethod.GET, null, String.class);
        String body = responseEntity.getBody();
        if (responseEntity.getStatusCode().is2xxSuccessful()) {
            System.out.println("body = " + body);
            // {"response":{"total_count":1,"games":[{"appid":232090,"name":"Killing Floor 2","playtime_2weeks":366,"playtime_forever":16792,"img_icon_url":"15837cefb378766e9916548f8591b6eb490b9e52","img_logo_url":"97d6a09bcca126ebaf1488b0faed79c6772716cb","playtime_windows_forever":16772,"playtime_mac_forever":0,"playtime_linux_forever":0}]}}
            return R.ok(body);
        }
        return R.fail(body);
    }
}
